# download grammar for the below only
use-grammars = { only = [ "rust", "python", "toml", "bash", "json", "yaml", "markdown"] }

[[language]]
name = "rust"
file-types = ["rs"]

[language.auto-pairs]
'(' = ')'
'{' = '}'
'[' = ']'
'"' = '"'
'<' = '>'
'`' = '`'

[[language]]
name = "bash"
scope = "source.bash"
file-types = [
  "text",
  "config",
  "ignore",
  ".conf",
  ".config",
  ".aliases",
  ".env",
  ".bashrc",
  ".bash_profile",
  ".exports",
  ".profile",
]

[[language]]
name = "json"
file-types = ["json", "kdl"]
formatter = { command = "prettier", args = ["--parser", "json"] }

[[language]]
name = "toml"
file-types = ["toml", "ini", "pycodestyle"]
formatter = { command = "taplo", args = ["fmt", "-"] }

[[language]]
name = "markdown"
file-types = ["md"]
formatter = { command = "prettier", args = ["--parser", "markdown"] }
# language-server = { command = "ltex-ls" }
[language.auto-pairs]
'(' = ')'
'{' = '}'
'[' = ']'
'"' = '"'
'<' = '>'
'`' = '`'
'*' = '*'

# [[language]]
# name = "python"
# scope = "source.python"
# injection-regex = "python"
# file-types = ["py"]
# shebangs = ["python"]
# roots = ["pyproject.toml", "setup.py", "Poetry.lock"]
# comment-token = "#"
# language-server = { command = "pyright-langserver", args = ["--stdio"] }
# language-server = { command = "ruff-lsp" }
# config = { settings = { args = [] } }
# indent = { tab-width = 4, unit = "    " }
# config = {}

[[language]]
name = "python"
auto-format = true
injection-regex = "python"
file-types = ["py"]
shebangs = ["python"]
scope = "source.python"
formatter = { command = "black", args = ["--quiet", "-"] }

[language-server.pylsp]
 config = { pylsp = {plugins = {ruff = { enabled = true }, black = { enabled = true }}}}